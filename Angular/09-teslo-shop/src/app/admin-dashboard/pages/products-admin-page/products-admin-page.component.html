<h1 class="text-2xl font-bold">Listado de productos</h1>
<h3 class="text-lg">
  Total de productos
  <span class="text-accent">{{ productsResource.value()?.count }}</span>
</h3>

<div class="divider"></div>

<!-- Listado -->
<div class="flex items-center flex-wrap gap-2 h-20">
  <app-pagination
    [pages]="paginationService.totalPages()"
    [currentPage]="paginationService.currentPage()"
    (pageChange)="
      paginationService.updatePagination(
        $event,
        paginationService.productsPerPage()
      )
    "
  />

  <select
    (change)="setPageSize(+pageSize.value)"
    class="select w-32"
    #pageSize
    [value]="paginationService.productsPerPage()"
  >
    <option value="10">10</option>
    <option value="20">20</option>
    <option value="50">50</option>
    <option value="100">100</option>
  </select>

  <div class="flex flex-1"></div>

  <button class="btn btn-primary" routerLink="/admin/products/new">Nuevo producto</button>
</div>

<div class="py-4">
  @if (productsResource.isLoading()) {
  <div class="flex justify-center items-center h-40">
    <span class="loading loading-spinner text-primary"></span>
  </div>
  } @else if (products()?.length) {
  <product-table [products]="products()" />
  } @else {
  <div class="text-center py-10 text-gray-500">
    <p>No hay productos disponibles.</p>
  </div>
  }
</div>
